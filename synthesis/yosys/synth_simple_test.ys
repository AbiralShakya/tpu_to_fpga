# Yosys synthesis script for simple Basys 3 test
# Run with: yosys synth_simple_test.ys

# Read SystemVerilog source files
read_verilog -sv rtl/simple_test_top.sv

# Hierarchy and checking
hierarchy -check
hierarchy -top simple_test_top

# Generic synthesis
synth_xilinx -flatten -abc9 -arch xc7 -top simple_test_top

# Write JSON for nextpnr
write_json build/simple_test.json

# Print statistics
stat
